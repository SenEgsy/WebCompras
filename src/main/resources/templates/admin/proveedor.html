<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">
<head>
    <meta charset="UTF-8">
    <title>Mantenimiento de Productos</title>
</head>
<body>
    <section>
	    <div class="container-fluid p-4 mt-3">
	        <div class="row">
	            <!-- Form for Creating Providers -->
	            <div class="col-md-4">
	                <div class="card card-sh">
	                    <div class="card-header text-center fs-4 bg-warning">
	                        CREAR PROVEEDOR
	                        <!-- Messages Block -->
	                        <th:block th:if="${session.successMsg}">
	                            <p class="text-success fs-6 fw-bold" th:text="${session.successMsg}"></p>
	                            <th:block th:text="${@commonServiceImpl.removeSessionMessage()}"></th:block>
	                        </th:block>
	                        <th:block th:if="${session.errorMsg}">
	                            <p class="text-danger fs-6 fw-bold" th:text="${session.errorMsg}"></p>
	                            <th:block th:text="${@commonServiceImpl.removeSessionMessage()}"></th:block>
	                        </th:block>    
	                    </div>
	                    
	                    <div class="card-body">
							<form th:action="@{/admin/saveProveedor}" th:object="${proveedor}" method="post" enctype="multipart/form-data">
							    <div class="mb-3">
							        <label>Nombre</label>
							        <input type="text" th:field="*{nombre}" class="form-control" required>
							    </div>
							    <div class="mb-3">
							        <label>Dirección</label>
									<input type="text" th:field="*{direccion}" class="form-control" required>
							    </div>
							    <div class="mb-3">
							        <label>Email</label>
							        <input type="text" th:field="*{email}" class="form-control" required>
							    </div>
							    <div class="mb-3">
							        <label>Telefono</label>
							        <input type="text" th:field="*{telefono}" class="form-control" required>
							    </div>
							    <button type="submit" class="btn btn-warning col-md-6 offset-md-3">Cargar</button>
							</form>
	                    </div>
	                </div>
	            </div>
	
	            <!-- List of Providers -->
	            <div class="col-md-8">
	                <div class="card card-sh">
	                    <div class="card-header text-center fs-4 card-header-custom bg-warning">Proveedores</div>
	                    <div class="card-body">
	                        <div class="row">
	                            <div class="col-lg-12 table-container">
	                                <table class="table table-striped">
	                                    <thead>
	                                        <tr>
	                                            <th scope="col">Nro.C.</th>
	                                            <th scope="col">Nombre</th>                                        
	                                            <th scope="col">Direccion</th>
	                                            <th scope="col">Email</th>
	                                            <th scope="col">Telefono</th>
	                                            <th scope="col">Acción</th>
	                                        </tr>
	                                    </thead>
	                                    <tbody>
	                                        <tr th:each="prov, iterStat : ${proveedores}">
	                                            <th scope="row" th:text="${iterStat.index + 1}"></th>
	                                            <td th:text="${prov.nombre}"></td>
	                                            <td th:text="${prov.direccion}"></td>
	                                            <td th:text="${prov.email}"></td>
	                                            <td th:text="${prov.telefono}"></td>
	                                            <td>
	                                                <!--<a th:href="@{'/admin/loadEditProveedor/' + ${prov.id}}"><i class="fa-regular fa-pen-to-square text-primary fa-2x"></i></a>-->
	                                                <a th:href="@{'/admin/deleteProveedor/' + ${prov.id}}"><i class="fa-solid fa-trash text-danger fa-2x"></i></a>
	                                            </td>
	                                        </tr>
	                                    </tbody>
	                                </table>
	                            </div>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
	    </div>
	</section>

</body>
</html>
